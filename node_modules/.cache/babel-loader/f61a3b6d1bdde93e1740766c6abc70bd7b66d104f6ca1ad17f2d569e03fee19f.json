{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pthan\\\\OneDrive\\\\Desktop\\\\SBproject\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { experimentAPI } from '../services/api';\nimport { useSearch } from '../context/SearchContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [experiments, setExperiments] = useState([]); // Ensure initial state is array\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [creating, setCreating] = useState(false);\n  const [deletingId, setDeletingId] = useState(null);\n  const [newTitle, setNewTitle] = useState('');\n  const {\n    searchTerm\n  } = useSearch();\n  const fetchExperiments = () => {\n    setLoading(true);\n    experimentAPI.getAll().then(data => {\n      setExperiments(Array.isArray(data) ? data : []); // Defensive: always set array\n      setLoading(false);\n    }).catch(err => {\n      setExperiments([]); // Set to empty array on error\n      setError('Failed to fetch experiments');\n      setLoading(false);\n    });\n  };\n  useEffect(() => {\n    fetchExperiments();\n  }, []);\n\n  // Defensive check before filtering\n  const filteredExperiments = Array.isArray(experiments) ? experiments.filter(exp => exp.title && exp.title.toLowerCase().includes(searchTerm.toLowerCase())) : [];\n  const handleCreate = async e => {\n    e.preventDefault();\n    if (!newTitle.trim()) return;\n    setCreating(true);\n    setError('');\n    try {\n      await experimentAPI.create({\n        title: newTitle\n      });\n      setNewTitle('');\n      fetchExperiments();\n    } catch (err) {\n      setError('Failed to create experiment');\n    } finally {\n      setCreating(false);\n    }\n  };\n  const handleDelete = async id => {\n    setDeletingId(id);\n    setError('');\n    try {\n      await experimentAPI.delete(id);\n      fetchExperiments();\n    } catch (err) {\n      setError('Failed to delete experiment');\n    } finally {\n      setDeletingId(null);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Experiments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCreate,\n      style: {\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newTitle,\n        onChange: e => setNewTitle(e.target.value),\n        placeholder: \"New experiment title\",\n        disabled: creating,\n        style: {\n          marginRight: '0.5rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: creating || !newTitle.trim(),\n        children: creating ? 'Adding...' : 'Add Experiment'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filteredExperiments.map(exp => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: exp.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: exp.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: exp.experiment_date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(exp.id),\n              disabled: deletingId === exp.id,\n              style: {\n                color: 'red'\n              },\n              children: deletingId === exp.id ? 'Deleting...' : 'Delete'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)]\n        }, exp.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"UV/0jQq9bVqTCEZF9hj3O1OoQ9I=\", false, function () {\n  return [useSearch];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","experimentAPI","useSearch","jsxDEV","_jsxDEV","Dashboard","_s","experiments","setExperiments","loading","setLoading","error","setError","creating","setCreating","deletingId","setDeletingId","newTitle","setNewTitle","searchTerm","fetchExperiments","getAll","then","data","Array","isArray","catch","err","filteredExperiments","filter","exp","title","toLowerCase","includes","handleCreate","e","preventDefault","trim","create","handleDelete","id","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","marginBottom","type","value","onChange","target","placeholder","disabled","marginRight","className","map","status","experiment_date","onClick","color","_c","$RefreshReg$"],"sources":["C:/Users/pthan/OneDrive/Desktop/SBproject/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { experimentAPI } from '../services/api';\r\nimport { useSearch } from '../context/SearchContext';\r\n\r\nconst Dashboard = () => {\r\n  const [experiments, setExperiments] = useState([]); // Ensure initial state is array\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [creating, setCreating] = useState(false);\r\n  const [deletingId, setDeletingId] = useState(null);\r\n  const [newTitle, setNewTitle] = useState('');\r\n  const { searchTerm } = useSearch();\r\n\r\n  const fetchExperiments = () => {\r\n    setLoading(true);\r\n    experimentAPI.getAll()\r\n      .then(data => {\r\n        setExperiments(Array.isArray(data) ? data : []); // Defensive: always set array\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        setExperiments([]); // Set to empty array on error\r\n        setError('Failed to fetch experiments');\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchExperiments();\r\n  }, []);\r\n\r\n  // Defensive check before filtering\r\n  const filteredExperiments = Array.isArray(experiments)\r\n    ? experiments.filter(exp =>\r\n        exp.title && exp.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n      )\r\n    : [];\r\n\r\n  const handleCreate = async (e) => {\r\n    e.preventDefault();\r\n    if (!newTitle.trim()) return;\r\n    setCreating(true);\r\n    setError('');\r\n    try {\r\n      await experimentAPI.create({ title: newTitle });\r\n      setNewTitle('');\r\n      fetchExperiments();\r\n    } catch (err) {\r\n      setError('Failed to create experiment');\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    setDeletingId(id);\r\n    setError('');\r\n    try {\r\n      await experimentAPI.delete(id);\r\n      fetchExperiments();\r\n    } catch (err) {\r\n      setError('Failed to delete experiment');\r\n    } finally {\r\n      setDeletingId(null);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Experiments</h2>\r\n      <form onSubmit={handleCreate} style={{ marginBottom: '1rem' }}>\r\n        <input\r\n          type=\"text\"\r\n          value={newTitle}\r\n          onChange={e => setNewTitle(e.target.value)}\r\n          placeholder=\"New experiment title\"\r\n          disabled={creating}\r\n          style={{ marginRight: '0.5rem' }}\r\n        />\r\n        <button type=\"submit\" disabled={creating || !newTitle.trim()}>\r\n          {creating ? 'Adding...' : 'Add Experiment'}\r\n        </button>\r\n      </form>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Title</th>\r\n            <th>Status</th>\r\n            <th>Date</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredExperiments.map(exp => (\r\n            <tr key={exp.id}>\r\n              <td>{exp.title}</td>\r\n              <td>{exp.status}</td>\r\n              <td>{exp.experiment_date}</td>\r\n              <td>\r\n                <button\r\n                  onClick={() => handleDelete(exp.id)}\r\n                  disabled={deletingId === exp.id}\r\n                  style={{ color: 'red' }}\r\n                >\r\n                  {deletingId === exp.id ? 'Deleting...' : 'Delete'}\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}